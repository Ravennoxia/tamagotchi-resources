import{r as t,e as a,_ as Ze,f as et,g as tt,h as st,V as rt,i as nt,k as ot,l as Fe,R as Ve,m as at,n as _e,o as ct,p as le,q as Le,s as lt,t as it,u as ut,v as we,w as dt,T as pt,x as mt,y as ht,F as ft,z as Ct,E as Ee,H as gt,I as yt,J as Rt,K as wt,L as vt,M as St,N as bt,O as de,P as Et,Q as Pt,U as kt,W as Mt,X as Ft,j as Pe}from"./index-DkaJZGnT.js";var X=a.createContext({}),fe=(e,s,r,o)=>{if(!e||e.componentFromFramework||s.isDestroyed())return;const l=e.newAgStackInstance();let u,c,i=!1;return l.then(d=>{if(i){s.destroyBean(d);return}u=d,c=u.getGui(),r.appendChild(c),Te(o,u)}),()=>{var d;i=!0,u&&((d=c==null?void 0:c.parentElement)==null||d.removeChild(c),s.destroyBean(u),o&&Te(o,void 0))}},Te=(e,s)=>{if(e)if(e instanceof Function)e(s);else{const r=e;r.current=s}},re=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),ne=class je{constructor(...s){this.classesMap={},s.forEach(r=>{this.classesMap[r]=!0})}setClass(s,r){if(!!this.classesMap[s]==r)return this;const n=new je;return n.classesMap={...this.classesMap},n.classesMap[s]=r,n}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},pe=e=>{const s=()=>typeof Symbol=="function"&&Symbol.for,r=()=>s()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},Ue,Me=(Ue=a.version)==null?void 0:Ue.split(".")[0],xt=Me==="16"||Me==="17";function Bt(){return Me==="19"}var ye=!1;function Gt(e){return ye||setTimeout(()=>ye=!1,0),ye=!0,e()}var he=(e,s)=>{!xt&&e&&!ye?Ve.flushSync(s):s()};function Re(e,s,r){if(s==null||e==null)return s;if(e===s||s.length===0&&e.length===0)return e;if(r||e.length===0&&s.length>0||e.length>0&&s.length===0)return s;const o=[],n=[],l=new Map,u=new Map;for(let c=0;c<s.length;c++){const i=s[c];u.set(i.instanceId,i)}for(let c=0;c<e.length;c++){const i=e[c];l.set(i.instanceId,i),u.has(i.instanceId)&&o.push(i)}for(let c=0;c<s.length;c++){const i=s[c],d=i.instanceId;l.has(d)||n.push(i)}return o.length===e.length&&n.length===0?e:o.length===0&&n.length===s.length?s:o.length===0?n:n.length===0?o:[...o,...n]}var $e=t.forwardRef((e,s)=>{var V;const{registry:r,context:o}=t.useContext(X),n=t.useRef(null),l=t.useRef(null),u=t.useRef(null),c=t.useRef(null),i=t.useRef(null),d=t.useRef(),[p,g]=t.useState(),[C,h]=t.useState(),[k,b]=t.useState(),[y,m]=t.useState(()=>new ne),[v,M]=t.useState(()=>new ne("ag-hidden")),[R,F]=t.useState(()=>new ne("ag-hidden")),[P,x]=t.useState(()=>new ne("ag-invisible"));t.useImperativeHandle(s,()=>({refresh(){return!1}})),t.useLayoutEffect(()=>fe(p,o,l.current),[p]);const I=t.useCallback(w=>{if(n.current=w,!w){d.current=o.destroyBean(d.current);return}const D={setInnerRenderer:(W,N)=>{g(W),b(N)},setChildCount:W=>h(W),toggleCss:(W,N)=>m(H=>H.setClass(W,N)),setContractedDisplayed:W=>F(N=>N.setClass("ag-hidden",!W)),setExpandedDisplayed:W=>M(N=>N.setClass("ag-hidden",!W)),setCheckboxVisible:W=>x(N=>N.setClass("ag-invisible",!W)),setCheckboxSpacing:W=>x(N=>N.setClass("ag-group-checkbox-spacing",W))},A=r.createDynamicBean("groupCellRendererCtrl",!0);A&&(d.current=o.createBean(A),d.current.init(D,w,u.current,c.current,i.current,$e,e))},[]),O=t.useMemo(()=>`ag-cell-wrapper ${y.toString()}`,[y]),T=t.useMemo(()=>`ag-group-expanded ${v.toString()}`,[v]),E=t.useMemo(()=>`ag-group-contracted ${R.toString()}`,[R]),S=t.useMemo(()=>`ag-group-checkbox ${P.toString()}`,[P]),f=p&&p.componentFromFramework,L=f?p.componentClass:void 0,B=p==null&&k!=null,_=ct(k);return a.createElement("span",{className:O,ref:I,...e.colDef?{}:{role:(V=d.current)==null?void 0:V.getCellAriaRole()}},a.createElement("span",{className:T,ref:c}),a.createElement("span",{className:E,ref:i}),a.createElement("span",{className:S,ref:u}),a.createElement("span",{className:"ag-group-value",ref:l},B&&a.createElement(a.Fragment,null,_),f&&a.createElement(L,{...p.params})),a.createElement("span",{className:"ag-group-child-count"},C))}),We=$e,xe=t.createContext({setMethods:()=>{}}),At=e=>{const{initialProps:s,addUpdateCallback:r,CustomComponentClass:o,setMethods:n}=e,[{key:l,...u},c]=t.useState(s);return t.useEffect(()=>{r(i=>c(i))},[]),a.createElement(xe.Provider,{value:{setMethods:n}},a.createElement(o,{key:l,...u}))},It=t.memo(At),Tt=0;function Oe(){return`agPortalKey_${++Tt}`}var ze=class{constructor(e,s,r,o){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=s,this.componentType=r,this.suppressFallbackMethods=!!o,this.statelessComponent=this.isStateless(this.reactComponent),this.key=Oe(),this.portalKey=Oe(),this.instanceCreated=this.isStatelessComponent()?le.resolve(!1):new le(n=>{this.resolveInstanceCreated=n})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const s=this.portalManager.getComponentWrappingElement(),r=document.createElement(s||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const s=this.getFrameworkComponentInstance();return!!s&&s[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,s){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,s&&s[0]?s[0]:{});if(!r){setTimeout(()=>this.callMethod(e,s));return}const o=r[e];if(o)return o.apply(r,s);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,s&&s[0]?s[0]:{})}addMethod(e,s){this[e]=s}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new le(s=>this.createReactComponent(s))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=s=>{var r;this.componentInstance=s,(r=this.resolveInstanceCreated)==null||r.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=Le.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,s){return t.createElement(e,s)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,s){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(s)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function Be(e,s,r){e.forEach(o=>{const n=s[o];n&&(r[o]=n)})}var oe=class extends ze{constructor(){super(...arguments),this.awaitUpdateCallback=new le(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=It}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,s){return super.createElement(this.wrapperComponent,{initialProps:s,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new le(o=>{setTimeout(()=>{o()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,Be(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new le(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},Wt=class extends oe{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Ot=class extends oe{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Dt=class extends oe{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,s){this.icon=e,this.shake=s,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:s,icon:r,shake:o}=this;return e.label=s,e.icon=r,e.shake=o,e}},Nt=class extends oe{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new le(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){var r;const s=this.providedMethods;s?(r=s.afterGuiAttached)==null||r.call(s,e):this.awaitSetMethodsCallback.then(()=>{var o,n;return(n=(o=this.providedMethods)==null?void 0:o.afterGuiAttached)==null?void 0:n.call(o,e)})}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var s;this.expectingNewMethods===!1&&this.hasBeenActive&&((s=this.providedMethods)==null?void 0:s.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback()}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,e}};function Je(e,s){e.parentFilterInstance(r=>{(r.setModel(s)||le.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var Ht=class{constructor(e,s){this.floatingFilterParams=e,this.refreshProps=s,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Be(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Je(this.floatingFilterParams,e)}},Ut=class extends oe{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Je(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},Vt=class extends oe{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},_t=class extends oe{refresh(e){this.sourceParams=e,this.refreshProps()}},Lt=class extends oe{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const s=this.awaitSetActive(e);e&&s.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},jt=class extends oe{refresh(e){this.sourceParams=e,this.refreshProps()}},$t=class extends oe{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},zt=class extends oe{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function Ge(){Fe(231)}var Jt=1e3,qt=class{constructor(e,s,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=s||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||Jt}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(s=>s!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,s,r){this.portals=[...this.portals,e],this.waitForInstance(s,r),this.batchUpdate()}updateReactPortal(e,s){this.portals[this.portals.indexOf(e)]=s,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,s,r=Date.now()){if(this.destroyed){s(null);return}if(e.rendered())s(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){he(!0,()=>this.refresher()),e.rendered()&&s(e);return}window.setTimeout(()=>{this.waitForInstance(e,s,r)})}}},Kt=({ctrl:e})=>{const s=e.isAlive(),{context:r}=t.useContext(X),o=s?e.column.getColId():void 0,[n,l]=t.useState(),[u,c]=t.useState(),i=t.useRef(),d=t.useRef(null),p=t.useRef(null),g=t.useRef(null),C=t.useRef(),h=t.useRef();s&&!h.current&&(h.current=new we(()=>d.current));const k=t.useCallback(v=>{var F;if(d.current=v,i.current=v?r.createBean(new de):r.destroyBean(i.current),!v||!e.isAlive())return;const M={setWidth:P=>{d.current&&(d.current.style.width=P)},toggleCss:(P,x)=>h.current.toggleCss(P,x),setUserStyles:P=>c(P),setAriaSort:P=>{d.current&&(P?Et(d.current,P):Pt(d.current))},setUserCompDetails:P=>l(P),getUserCompInstance:()=>C.current||void 0};e.setComp(M,v,p.current,g.current,i.current);const R=e.getSelectAllGui();R&&((F=p.current)==null||F.insertAdjacentElement("afterend",R),i.current.addDestroyFunc(()=>R.remove()))},[]);t.useLayoutEffect(()=>fe(n,r,g.current,C),[n]),t.useEffect(()=>{e.setDragSource(d.current)},[n]);const b=t.useMemo(()=>!!((n==null?void 0:n.componentFromFramework)&&pe(n.componentClass)),[n]),y=n&&n.componentFromFramework,m=n&&n.componentClass;return a.createElement("div",{ref:k,style:u,className:"ag-header-cell","col-id":o,role:"columnheader"},a.createElement("div",{ref:p,className:"ag-header-cell-resize",role:"presentation"}),a.createElement("div",{ref:g,className:"ag-header-cell-comp-wrapper",role:"presentation"},y&&b&&a.createElement(m,{...n.params}),y&&!b&&a.createElement(m,{...n.params,ref:C})))},Qt=t.memo(Kt),Yt=({ctrl:e})=>{const{context:s,gos:r}=t.useContext(X),[o,n]=t.useState(),[l,u]=t.useState(()=>new ne("ag-header-cell","ag-floating-filter")),[c,i]=t.useState(()=>new ne),[d,p]=t.useState(()=>new ne("ag-floating-filter-button","ag-hidden")),[g,C]=t.useState("false"),[h,k]=t.useState(),[,b]=t.useState(1),y=t.useRef(),m=t.useRef(null),v=t.useRef(null),M=t.useRef(null),R=t.useRef(null),F=t.useRef(),P=t.useRef(),x=w=>{w!=null&&F.current&&F.current(w)},I=t.useCallback(w=>{if(m.current=w,y.current=w?s.createBean(new de):s.destroyBean(y.current),!w)return;P.current=new le(A=>{F.current=A});const D={toggleCss:(A,W)=>u(N=>N.setClass(A,W)),setUserStyles:A=>n(A),addOrRemoveBodyCssClass:(A,W)=>i(N=>N.setClass(A,W)),setButtonWrapperDisplayed:A=>{p(W=>W.setClass("ag-hidden",!A)),C(A?"false":"true")},setWidth:A=>{m.current&&(m.current.style.width=A)},setCompDetails:A=>k(A),getFloatingFilterComp:()=>P.current?P.current:null,setMenuIcon:A=>{var W;return(W=R.current)==null?void 0:W.appendChild(A)}};e.setComp(D,w,R.current,v.current,y.current)},[]);t.useLayoutEffect(()=>fe(h,s,v.current,x),[h]);const O=t.useMemo(()=>l.toString(),[l]),T=t.useMemo(()=>c.toString(),[c]),E=t.useMemo(()=>d.toString(),[d]),S=t.useMemo(()=>!!(h&&h.componentFromFramework&&pe(h.componentClass)),[h]),f=t.useMemo(()=>r.get("reactiveCustomComponents"),[]),L=t.useMemo(()=>{if(h)if(f){const w=new Ht(h.params,()=>b(D=>D+1));return x(w),w}else h.componentFromFramework&&Ge()},[h]),B=L==null?void 0:L.getProps(),_=h&&h.componentFromFramework,V=h&&h.componentClass;return a.createElement("div",{ref:I,style:o,className:O,role:"gridcell"},a.createElement("div",{ref:v,className:T,role:"presentation"},_&&!f&&a.createElement(V,{...h.params,ref:S?()=>{}:x}),_&&f&&a.createElement(xe.Provider,{value:{setMethods:w=>L.setMethods(w)}},a.createElement(V,{...B}))),a.createElement("div",{ref:M,"aria-hidden":g,className:E,role:"presentation"},a.createElement("button",{ref:R,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},Xt=t.memo(Yt),Zt=({ctrl:e})=>{const{context:s}=t.useContext(X),[r,o]=t.useState(),[n,l]=t.useState(()=>new ne),[u,c]=t.useState(()=>new ne),[i,d]=t.useState("false"),[p,g]=t.useState(),[C,h]=t.useState(),k=t.useMemo(()=>e.column.getUniqueId(),[]),b=t.useRef(),y=t.useRef(null),m=t.useRef(null),v=t.useRef(null),M=t.useRef(),R=t.useCallback(T=>{if(y.current=T,b.current=T?s.createBean(new de):s.destroyBean(b.current),!T)return;const E={setWidth:S=>{y.current&&(y.current.style.width=S)},toggleCss:(S,f)=>l(L=>L.setClass(S,f)),setUserStyles:S=>o(S),setHeaderWrapperHidden:S=>{const f=v.current;f&&(S?f.style.setProperty("display","none"):f.style.removeProperty("display"))},setHeaderWrapperMaxHeight:S=>{const f=v.current;f&&(S!=null?f.style.setProperty("max-height",`${S}px`):f.style.removeProperty("max-height"),f.classList.toggle("ag-header-cell-comp-wrapper-limited-height",S!=null))},setUserCompDetails:S=>h(S),setResizableDisplayed:S=>{c(f=>f.setClass("ag-hidden",!S)),d(S?"false":"true")},setAriaExpanded:S=>g(S),getUserCompInstance:()=>M.current||void 0};e.setComp(E,T,m.current,v.current,b.current)},[]);t.useLayoutEffect(()=>fe(C,s,v.current),[C]),t.useEffect(()=>{y.current&&e.setDragSource(y.current)},[C]);const F=t.useMemo(()=>!!((C==null?void 0:C.componentFromFramework)&&pe(C.componentClass)),[C]),P=t.useMemo(()=>"ag-header-group-cell "+n.toString(),[n]),x=t.useMemo(()=>"ag-header-cell-resize "+u.toString(),[u]),I=C&&C.componentFromFramework,O=C&&C.componentClass;return a.createElement("div",{ref:R,style:r,className:P,"col-id":k,role:"columnheader","aria-expanded":p},a.createElement("div",{ref:v,className:"ag-header-cell-comp-wrapper",role:"presentation"},I&&F&&a.createElement(O,{...C.params}),I&&!F&&a.createElement(O,{...C.params,ref:M})),a.createElement("div",{ref:m,"aria-hidden":i,className:x}))},es=t.memo(Zt),ts=({ctrl:e})=>{const{context:s}=t.useContext(X),{topOffset:r,rowHeight:o}=t.useMemo(()=>e.getTopAndHeight(),[]),n=e.getAriaRowIndex(),l=e.headerRowClass,[u,c]=t.useState(()=>o+"px"),[i,d]=t.useState(()=>r+"px"),p=t.useRef(null),g=t.useRef(null),[C,h]=t.useState(()=>e.getUpdatedHeaderCtrls()),k=t.useRef(),b=t.useRef(null),y=t.useCallback(M=>{if(b.current=M,k.current=M?s.createBean(new de):s.destroyBean(k.current),!M)return;const R={setHeight:F=>c(F),setTop:F=>d(F),setHeaderCtrls:(F,P,x)=>{g.current=p.current,p.current=F;const I=Re(g.current,F,P);I!==g.current&&he(x,()=>h(I))},setWidth:F=>{b.current&&(b.current.style.width=F)}};e.setComp(R,k.current,!1)},[]),m=t.useMemo(()=>({height:u,top:i}),[u,i]),v=t.useCallback(M=>{switch(e.type){case"group":return a.createElement(es,{ctrl:M,key:M.instanceId});case"filter":return a.createElement(Xt,{ctrl:M,key:M.instanceId});default:return a.createElement(Qt,{ctrl:M,key:M.instanceId})}},[]);return a.createElement("div",{ref:y,className:l,role:"row",style:m,"aria-rowindex":n},C.map(v))},ss=t.memo(ts),rs=({pinned:e})=>{const[s,r]=t.useState(!0),[o,n]=t.useState([]),{context:l}=t.useContext(X),u=t.useRef(null),c=t.useRef(null),i=t.useRef(),d=e==="left",p=e==="right",g=!d&&!p,C=t.useCallback(b=>{if(u.current=b,i.current=b?l.createBean(new yt(e)):l.destroyBean(i.current),!b)return;const y={setDisplayed:r,setCtrls:m=>n(m),setCenterWidth:m=>{c.current&&(c.current.style.width=m)},setViewportScrollLeft:m=>{u.current&&(u.current.scrollLeft=m)},setPinnedContainerWidth:m=>{u.current&&(u.current.style.width=m,u.current.style.minWidth=m,u.current.style.maxWidth=m)}};i.current.setComp(y,u.current)},[]),h=s?"":"ag-hidden",k=()=>o.map(b=>a.createElement(ss,{ctrl:b,key:b.instanceId}));return a.createElement(a.Fragment,null,d&&a.createElement("div",{ref:C,className:"ag-pinned-left-header "+h,"aria-hidden":!s,role:"rowgroup"},k()),p&&a.createElement("div",{ref:C,className:"ag-pinned-right-header "+h,"aria-hidden":!s,role:"rowgroup"},k()),g&&a.createElement("div",{ref:C,className:"ag-header-viewport "+h,role:"presentation",tabIndex:-1},a.createElement("div",{ref:c,className:"ag-header-container",role:"rowgroup"},k())))},ke=t.memo(rs),ns=()=>{const[e,s]=t.useState(()=>new ne),[r,o]=t.useState(),{context:n}=t.useContext(X),l=t.useRef(null),u=t.useRef(),c=t.useCallback(p=>{if(l.current=p,u.current=p?n.createBean(new gt):n.destroyBean(u.current),!p)return;const g={toggleCss:(C,h)=>s(k=>k.setClass(C,h)),setHeightAndMinHeight:C=>o(C)};u.current.setComp(g,p,p)},[]),i=t.useMemo(()=>"ag-header "+e.toString(),[e]),d=t.useMemo(()=>({height:r,minHeight:r}),[r]);return a.createElement("div",{ref:c,className:i,style:d,role:"presentation"},a.createElement(ke,{pinned:"left"}),a.createElement(ke,{pinned:null}),a.createElement(ke,{pinned:"right"}))},os=t.memo(ns),as=(e,s)=>{t.useEffect(()=>{const r=s.current;if(r){const o=r.parentElement;if(o){const n=document.createComment(e);return o.insertBefore(n,r),()=>{o.removeChild(n)}}}},[e])},ie=as,cs=class{constructor(e,s){this.cellEditorParams=e,this.refreshProps=s,this.instanceCreated=new le(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){Be(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var s;this.componentInstance=e,(s=this.resolveInstanceCreated)==null||s.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},ls=e=>{const s=t.useRef(e),r=t.useRef(),o=t.useRef(!1),n=t.useRef(!1),[,l]=t.useState(0);o.current&&(n.current=!0),t.useEffect(()=>(o.current||(r.current=s.current(),o.current=!0),l(u=>u+1),()=>{var u;n.current&&((u=r.current)==null||u.call(r))}),[])},is=e=>{const[s,r]=t.useState(),o=t.useContext(X),{context:n,popupSvc:l,localeSvc:u,gos:c,editSvc:i}=o,{editDetails:d,cellCtrl:p,eParentCell:g}=e;return ls(()=>{var x,I;const{compDetails:C}=d,h=c.get("stopEditingWhenCellsLoseFocus"),k=n.createBean(i.createPopupEditorWrapper(C.params)),b=k.getGui();if(e.jsChildComp){const O=e.jsChildComp.getGui();O&&b.appendChild(O)}const{column:y,rowNode:m}=p,v={column:y,rowNode:m,type:"popupCellEditor",eventSource:g,ePopup:b,position:d.popupPosition,keepWithinBounds:!0},M=l==null?void 0:l.positionPopupByComponent.bind(l,v),R=Ft(u),F=l==null?void 0:l.addPopup({modal:h,eChild:b,closeOnEsc:!0,closedCallback:()=>{p.onPopupEditorClosed()},anchorToElement:g,positionCallback:M,ariaLabel:R("ariaLabelCellEditor","Cell Editor")}),P=F?F.hideFunc:void 0;return r(k),(I=(x=e.jsChildComp)==null?void 0:x.afterGuiAttached)==null||I.call(x),()=>{P==null||P(),n.destroyBean(k)}}),t.useLayoutEffect(()=>()=>{p.isCellFocused()&&(s!=null&&s.getGui().contains(Mt(o)))&&g.focus({preventScroll:!0})},[s]),a.createElement(a.Fragment,null,s&&e.wrappedContent&&Le.createPortal(e.wrappedContent,s.getGui()))},De=t.memo(is),us=(e,s,r,o,n,l)=>{const{context:u}=t.useContext(X),c=t.useCallback(()=>{const i=n.current;if(!i)return;const d=i.getGui();d&&d.parentElement&&d.parentElement.removeChild(d),u.destroyBean(i),n.current=void 0},[]);t.useEffect(()=>{const i=e!=null,d=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,p=s&&r==null;if(!(i&&d&&!p)){c();return}const C=e.compDetails;if(n.current){const k=n.current,y=k.refresh!=null&&e.force==!1?k.refresh(C.params):!1;if(y===!0||y===void 0)return;c()}C.newAgStackInstance().then(k=>{if(!k)return;const b=k.getGui();if(!b)return;(s?r:l.current).appendChild(b),n.current=k})},[e,s,o]),t.useEffect(()=>c,[])},ds=us,ps=(e,s,r)=>{const{compProxy:o}=e;r(o);const n=o.getProps(),l=pe(s);return a.createElement(xe.Provider,{value:{setMethods:u=>o.setMethods(u)}},l?a.createElement(s,{...n}):a.createElement(s,{...n,ref:u=>o.setRef(u)}))},Ne=(e,s,r)=>{const o=e.compProxy;return a.createElement(a.Fragment,null,o?ps(e,s,r):a.createElement(s,{...e.compDetails.params,ref:r}))},ms=(e,s,r,o,n)=>{const l=e.compDetails,u=l.componentClass,c=l.componentFromFramework&&!e.popup,i=l.componentFromFramework&&e.popup,d=!l.componentFromFramework&&e.popup;return a.createElement(a.Fragment,null,c&&Ne(e,u,s),i&&a.createElement(De,{editDetails:e,cellCtrl:o,eParentCell:r,wrappedContent:Ne(e,u,s)}),d&&n&&a.createElement(De,{editDetails:e,cellCtrl:o,eParentCell:r,jsChildComp:n}))},hs=(e,s,r,o,n,l,u)=>{const{compDetails:c,value:i}=e,d=!c,p=c&&c.componentFromFramework,g=c&&c.componentClass,C=i!=null&&i.toString?i.toString():i,h=()=>a.createElement(a.Fragment,null,d&&a.createElement(a.Fragment,null,C),p&&!l&&a.createElement(g,{...c.params,key:s,ref:o}),p&&l&&a.createElement(g,{...c.params,key:s}));return a.createElement(a.Fragment,null,n?a.createElement("span",{role:"presentation",id:`cell-${r}`,className:"ag-cell-value",ref:u},h()):h())},fs=({cellCtrl:e,printLayout:s,editingRow:r})=>{const o=t.useContext(X),{context:n}=o,{column:{colIdSanitised:l},instanceId:u}=e,c=t.useRef(),[i,d]=t.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[p,g]=t.useState(),[C,h]=t.useState(1),[k,b]=t.useState(),[y,m]=t.useState(!1),[v,M]=t.useState(!1),[R,F]=t.useState(!1),[P,x]=t.useState(),I=t.useMemo(()=>e.isForceWrapper(),[e]),O=t.useMemo(()=>e.getCellAriaRole(),[e]),T=t.useRef(null),E=t.useRef(null),S=t.useRef(null),f=t.useRef(),L=t.useRef(),B=t.useRef(),_=t.useRef([]),V=t.useRef(),[w,D]=t.useState(0),A=t.useCallback(j=>{V.current=j,D(z=>z+1)},[]),W=i!=null&&(y||R||v),N=I||W,H=t.useCallback(j=>{if(L.current=j,j){const z=j.isCancelBeforeStart&&j.isCancelBeforeStart();setTimeout(()=>{z?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),G=t.useRef();G.current||(G.current=new we(()=>T.current)),ds(i,N,V.current,w,f,T);const K=t.useRef();t.useLayoutEffect(()=>{var q;const j=K.current,z=i;if(K.current=i,j==null||j.compDetails==null||z==null||z.compDetails==null)return;const Y=j.compDetails,se=z.compDetails;if(Y.componentClass!=se.componentClass||((q=S.current)==null?void 0:q.refresh)==null)return;S.current.refresh(se.params)!=!0&&h(Z=>Z+1)},[i]),t.useLayoutEffect(()=>{if(!(p&&!p.compDetails.componentFromFramework))return;const z=p.compDetails,Y=p.popup===!0,se=z.newAgStackInstance();return se.then(U=>{if(!U)return;const q=U.getGui();if(H(U),!Y){const Z=(I?B:T).current;Z==null||Z.appendChild(q),U.afterGuiAttached&&U.afterGuiAttached()}x(U)}),()=>{se.then(U=>{var Z;const q=U.getGui();n.destroyBean(U),H(void 0),x(void 0),(Z=q==null?void 0:q.parentElement)==null||Z.removeChild(q)})}},[p]);const J=t.useCallback(j=>{if(B.current=j,!j){_.current.forEach(Y=>Y()),_.current=[];return}const z=Y=>{if(Y){const se=Y.getGui();j.insertAdjacentElement("afterbegin",se),_.current.push(()=>{n.destroyBean(Y),kt(se)})}return Y};if(y){const Y=e.createSelectionCheckbox();z(Y)}R&&z(e.createDndSource()),v&&z(e.createRowDragComp())},[e,n,R,v,y]),ae=t.useCallback(()=>{const j=!e.isCellSpanning()||E.current,z=T.current;if(c.current=z?n.createBean(new de):n.destroyBean(c.current),!z||!j||!e)return;const Y={toggleCss:(U,q)=>G.current.toggleCss(U,q),setUserStyles:U=>b(U),getFocusableElement:()=>T.current,setIncludeSelection:U=>m(U),setIncludeRowDrag:U=>M(U),setIncludeDndSource:U=>F(U),getCellEditor:()=>L.current||null,getCellRenderer:()=>S.current??f.current,getParentOfValue:()=>V.current??B.current??T.current,setRenderDetails:(U,q,Z)=>{d(Q=>(Q==null?void 0:Q.compDetails)!==U||(Q==null?void 0:Q.value)!==q||(Q==null?void 0:Q.force)!==Z?{value:q,compDetails:U,force:Z}:Q)},setEditDetails:(U,q,Z,Q)=>{if(U){let ee;Q?ee=new cs(U.params,()=>h(ce=>ce+1)):U.componentFromFramework&&Ge(),g({compDetails:U,popup:q,popupPosition:Z,compProxy:ee}),q||d(void 0)}else e.hasBrowserFocus()&&Y.getFocusableElement().focus({preventScroll:!0}),g(ce=>{ce!=null&&ce.compProxy&&(L.current=void 0)})}},se=B.current||void 0;e.setComp(Y,z,E.current??void 0,se,s,r,c.current)},[]),ue=t.useCallback(j=>{T.current=j,ae()},[]),ve=t.useCallback(j=>{E.current=j,ae()},[]),Se=t.useMemo(()=>{var z;return!!(((z=i==null?void 0:i.compDetails)==null?void 0:z.componentFromFramework)&&pe(i.compDetails.componentClass))},[i]);t.useLayoutEffect(()=>{T.current&&(G.current.toggleCss("ag-cell-value",!N),G.current.toggleCss("ag-cell-inline-editing",!!p&&!p.popup),G.current.toggleCss("ag-cell-popup-editing",!!p&&!!p.popup),G.current.toggleCss("ag-cell-not-inline-editing",!p||!!p.popup),e.setInlineEditingCss())});const Ce=()=>a.createElement(a.Fragment,null,i!=null&&hs(i,C,u,S,N,Se,A),p!=null&&ms(p,H,T.current,e,P)),ge=()=>a.createElement("div",{ref:ue,style:k,role:O,"col-id":l},N?a.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:J},Ce()):Ce());return e.isCellSpanning()?a.createElement("div",{ref:ve,className:"ag-spanned-cell-wrapper",role:"presentation"},ge()):ge()},Cs=t.memo(fs),gs=({rowCtrl:e,containerType:s})=>{const{context:r,gos:o}=t.useContext(X),n=t.useRef(),l=t.useRef(e.getDomOrder()),u=e.isFullWidth(),c=e.rowNode.displayed,[i,d]=t.useState(()=>c?e.rowNode.getRowIndexString():null),[p,g]=t.useState(()=>e.rowId),[C,h]=t.useState(()=>e.businessKey),[k,b]=t.useState(()=>e.rowStyles),y=t.useRef(null),m=t.useRef(null),[v,M]=t.useState(()=>null),[R,F]=t.useState(),[P,x]=t.useState(()=>c?e.getInitialRowTop(s):void 0),[I,O]=t.useState(()=>c?e.getInitialTransform(s):void 0),T=t.useRef(null),E=t.useRef(),S=t.useRef(!1),[f,L]=t.useState(0);t.useEffect(()=>{var K;if(S.current||!R||f>10)return;const G=(K=T.current)==null?void 0:K.firstChild;G?(e.setupDetailRowAutoHeight(G),S.current=!0):L(J=>J+1)},[R,f]);const B=t.useRef();B.current||(B.current=new we(()=>T.current));const _=t.useCallback(G=>{if(T.current=G,n.current=G?r.createBean(new de):r.destroyBean(n.current),!G){e.unsetComp(s);return}if(!e.isAlive())return;const K={setTop:x,setTransform:O,toggleCss:(J,ae)=>B.current.toggleCss(J,ae),setDomOrder:J=>l.current=J,setRowIndex:d,setRowId:g,setRowBusinessKey:h,setUserStyles:b,setCellCtrls:(J,ae)=>{m.current=y.current,y.current=J;const ue=Re(m.current,J,l.current);ue!==m.current&&he(ae,()=>M(ue))},showFullWidth:J=>F(J),getFullWidthCellRenderer:()=>E.current,refreshFullWidth:J=>W.current?(F(ae=>({...ae,params:J()})),!0):!E.current||!E.current.refresh?!1:E.current.refresh(J())};e.setComp(K,G,s,n.current)},[]);t.useLayoutEffect(()=>fe(R,r,T.current,E),[R]);const V=t.useMemo(()=>{const G={top:P,transform:I};return Object.assign(G,k),G},[P,I,k]),w=u&&(R==null?void 0:R.componentFromFramework),D=!u&&v!=null,A=t.useMemo(()=>!!((R==null?void 0:R.componentFromFramework)&&pe(R.componentClass)),[R]),W=t.useRef(!1);t.useEffect(()=>{W.current=A&&!!R&&!!o.get("reactiveCustomComponents")},[A,R]);const N=()=>v==null?void 0:v.map(G=>a.createElement(Cs,{cellCtrl:G,editingRow:e.editing,printLayout:e.printLayout,key:G.instanceId})),H=()=>{const G=R.componentClass;return a.createElement(a.Fragment,null,A?a.createElement(G,{...R.params}):a.createElement(G,{...R.params,ref:E}))};return a.createElement("div",{ref:_,role:"row",style:V,"row-index":i,"row-id":p,"row-business-key":C},D&&N(),w&&H())},He=t.memo(gs),ys=({name:e})=>{const{context:s,gos:r}=t.useContext(X),o=t.useMemo(()=>Rt(e),[e]),n=t.useRef(null),l=t.useRef(null),u=t.useRef(null),c=t.useRef([]),i=t.useRef([]),[d,p]=t.useState(()=>[]),g=!!r.get("enableCellSpan")&&!!o.getSpannedRowCtrls,C=t.useRef([]),h=t.useRef([]),[k,b]=t.useState(()=>[]),y=t.useRef(!1),m=t.useRef(),v=t.useMemo(()=>re("ag-viewport",wt(e)),[e]),M=t.useMemo(()=>re(vt(e)),[e]),R=t.useMemo(()=>re("ag-spanning-container",St(e)),[e]),F=o.type==="center"||g,P=F?n:l;ie(" AG Row Container "+e+" ",P);const x=t.useCallback(()=>{const B=!F||n.current!=null,_=l.current!=null,V=!g||u.current!=null;return B&&_&&V},[]),I=t.useCallback(()=>n.current==null&&l.current==null&&u.current==null,[]),O=t.useCallback(()=>{if(I()&&(m.current=s.destroyBean(m.current)),x()){const B=w=>{const D=Re(i.current,c.current,y.current);D!==i.current&&(i.current=D,he(w,()=>p(D)))},_=w=>{const D=Re(h.current,C.current,y.current);D!==h.current&&(h.current=D,he(w,()=>b(D)))},V={setHorizontalScroll:w=>{n.current&&(n.current.scrollLeft=w)},setViewportHeight:w=>{n.current&&(n.current.style.height=w)},setRowCtrls:({rowCtrls:w,useFlushSync:D})=>{const A=!!D&&c.current.length>0&&w.length>0;c.current=w,B(A)},setSpannedRowCtrls:(w,D)=>{const A=!!D&&C.current.length>0&&w.length>0;C.current=w,_(A)},setDomOrder:w=>{y.current!=w&&(y.current=w,B(!1))},setContainerWidth:w=>{l.current&&(l.current.style.width=w)},setOffsetTop:w=>{l.current&&(l.current.style.transform=`translateY(${w})`)}};m.current=s.createBean(new bt(e)),m.current.setComp(V,l.current,u.current??void 0,n.current)}},[x,I]),T=t.useCallback(B=>{l.current=B,O()},[O]),E=t.useCallback(B=>{u.current=B,O()},[O]),S=t.useCallback(B=>{n.current=B,O()},[O]),f=()=>a.createElement("div",{className:M,ref:T,role:"rowgroup"},d.map(B=>a.createElement(He,{rowCtrl:B,containerType:o.type,key:B.instanceId})));if(!F)return f();const L=()=>g&&a.createElement("div",{className:R,ref:E,role:"rowgroup"},k.map(B=>a.createElement(He,{rowCtrl:B,containerType:o.type,key:B.instanceId})));return a.createElement("div",{className:v,ref:S,role:"presentation"},f(),L())},Rs=t.memo(ys),ws=()=>{const e=t.useContext(X),{context:s,overlays:r}=e,[o,n]=t.useState(""),[l,u]=t.useState(0),[c,i]=t.useState(0),[d,p]=t.useState("0px"),[g,C]=t.useState("0px"),[h,k]=t.useState("100%"),[b,y]=t.useState("0px"),[m,v]=t.useState("0px"),[M,R]=t.useState("100%"),[F,P]=t.useState(!0),[x,I]=t.useState(!0),[O,T]=t.useState(null),[E,S]=t.useState(""),[f,L]=t.useState(null),[B,_]=t.useState("ag-layout-normal"),V=t.useRef();V.current||(V.current=new we(()=>w.current));const w=t.useRef(null),D=t.useRef(null),A=t.useRef(null),W=t.useRef(null),N=t.useRef(null),H=t.useRef(null),G=t.useRef(null),K=t.useRef([]),J=t.useRef([]);ie(" AG Grid Body ",w),ie(" AG Pinned Top ",D),ie(" AG Sticky Top ",A),ie(" AG Middle ",H),ie(" AG Pinned Bottom ",G);const ae=t.useCallback(ee=>{if(w.current=ee,!ee){K.current=s.destroyBeans(K.current),J.current.forEach($=>$()),J.current=[];return}if(!s)return;const ce=($,te)=>{$.appendChild(te),J.current.push(()=>$.removeChild(te))},be=$=>{const te=s.createBean(new $);return K.current.push(te),te},me=($,te,Xe)=>{ce($,document.createComment(Xe)),ce($,be(te).getGui())};me(ee,ft," AG Fake Horizontal Scroll ");const Ae=r==null?void 0:r.getOverlayWrapperCompClass();Ae&&me(ee,Ae," AG Overlay Wrapper "),N.current&&me(N.current,Ct," AG Fake Vertical Scroll ");const Ye={setRowAnimationCssOnBodyViewport:n,setColumnCount:$=>{w.current&&ht(w.current,$)},setRowCount:$=>{w.current&&mt(w.current,$)},setTopHeight:u,setBottomHeight:i,setStickyTopHeight:p,setStickyTopTop:C,setStickyTopWidth:k,setTopInvisible:P,setBottomInvisible:I,setColumnMovingCss:($,te)=>V.current.toggleCss($,te),updateLayoutClasses:_,setAlwaysVerticalScrollClass:T,setPinnedTopBottomOverflowY:S,setCellSelectableCss:($,te)=>L(te?$:null),setBodyViewportWidth:$=>{H.current&&(H.current.style.width=$)},registerBodyViewportResizeListener:$=>{if(H.current){const te=_e(e,H.current,$);J.current.push(()=>te())}},setStickyBottomHeight:y,setStickyBottomBottom:v,setStickyBottomWidth:R,setGridRootRole:$=>ee.setAttribute("role",$)},Ie=s.createBean(new dt);K.current.push(Ie),Ie.setComp(Ye,ee,H.current,D.current,G.current,A.current,W.current)},[]),ue=t.useMemo(()=>re("ag-root","ag-unselectable",B),[B]),ve=t.useMemo(()=>re("ag-body-viewport",o,B,O,f),[o,B,O,f]),Se=t.useMemo(()=>re("ag-body",B),[B]),Ce=t.useMemo(()=>re("ag-floating-top",F?"ag-invisible":null,f),[f,F]),ge=t.useMemo(()=>re("ag-sticky-top",f),[f]),j=t.useMemo(()=>re("ag-sticky-bottom",b==="0px"?"ag-invisible":null,f),[f,b]),z=t.useMemo(()=>re("ag-floating-bottom",x?"ag-invisible":null,f),[f,x]),Y=t.useMemo(()=>({height:l,minHeight:l,overflowY:E}),[l,E]),se=t.useMemo(()=>({height:d,top:g,width:h}),[d,g,h]),U=t.useMemo(()=>({height:b,bottom:m,width:M}),[b,m,M]),q=t.useMemo(()=>({height:c,minHeight:c,overflowY:E}),[c,E]),Z=ee=>a.createElement(Rs,{name:ee,key:`${ee}-container`}),Q=({section:ee,children:ce,className:be,style:me})=>a.createElement("div",{ref:ee,className:be,role:"presentation",style:me},ce.map(Z));return a.createElement("div",{ref:ae,className:ue},a.createElement(os,null),Q({section:D,className:Ce,style:Y,children:["topLeft","topCenter","topRight","topFullWidth"]}),a.createElement("div",{className:Se,ref:N,role:"presentation"},Q({section:H,className:ve,children:["left","center","right","fullWidth"]})),Q({section:A,className:ge,style:se,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),Q({section:W,className:j,style:U,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),Q({section:G,className:z,style:q,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},vs=t.memo(ws),Ss=(e,s)=>{const{children:r,eFocusableElement:o,onTabKeyDown:n,gridCtrl:l,forceFocusOutWhenTabGuardsAreEmpty:u,isEmpty:c}=e,{context:i}=t.useContext(X),d=t.useRef(null),p=t.useRef(null),g=t.useRef(),C=m=>{const v=m==null?void 0:parseInt(m,10).toString();[d,p].forEach(M=>{var R,F;v===void 0?(R=M.current)==null||R.removeAttribute("tabindex"):(F=M.current)==null||F.setAttribute("tabindex",v)})};t.useImperativeHandle(s,()=>({forceFocusOutOfContainer(m){var v;(v=g.current)==null||v.forceFocusOutOfContainer(m)}}));const h=t.useCallback(()=>{const m=d.current,v=p.current;if(!m&&!v){g.current=i.destroyBean(g.current);return}if(m&&v){const M={setTabIndex:C};g.current=i.createBean(new pt({comp:M,eTopGuard:m,eBottomGuard:v,eFocusableElement:o,onTabKeyDown:n,forceFocusOutWhenTabGuardsAreEmpty:u,focusInnerElement:R=>l.focusInnerElement(R),isEmpty:c}))}},[]),k=t.useCallback(m=>{d.current=m,h()},[h]),b=t.useCallback(m=>{p.current=m,h()},[h]),y=m=>{const v=m==="top"?Ee.TAB_GUARD_TOP:Ee.TAB_GUARD_BOTTOM;return a.createElement("div",{className:`${Ee.TAB_GUARD} ${v}`,role:"presentation",ref:m==="top"?k:b})};return a.createElement(a.Fragment,null,y("top"),r,y("bottom"))},bs=t.forwardRef(Ss),Es=t.memo(bs),Ps=({context:e})=>{const[s,r]=t.useState(""),[o,n]=t.useState(""),[l,u]=t.useState(null),[c,i]=t.useState(null),[d,p]=t.useState(!1),[g,C]=t.useState(),h=t.useRef(),k=t.useRef(null),b=t.useRef(),[y,m]=t.useState(null),v=t.useRef(()=>{}),M=t.useRef(),R=t.useRef([]),F=t.useCallback(()=>{},[]),P=t.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);ie(" AG Grid ",k);const x=t.useCallback(f=>{if(k.current=f,h.current=f?e.createBean(new lt):e.destroyBean(h.current),!f||e.isDestroyed())return;const L=h.current;v.current=L.focusInnerElement.bind(L);const B={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:_=>{var V,w;if(!_&&((V=M.current)!=null&&V.isDisplayed())){M.current.forceFocusOutOfContainer(_);return}(w=b.current)==null||w.forceFocusOutOfContainer(_)},updateLayoutClasses:n,getFocusableContainers:()=>{var w;const _=[],V=(w=k.current)==null?void 0:w.querySelector(".ag-root");return V&&_.push({getGui:()=>V}),R.current.forEach(D=>{D.isDisplayed()&&_.push(D)}),_},setCursor:u,setUserSelect:i};L.setComp(B,f,f),p(!0)},[]);t.useEffect(()=>{const f=h.current,L=k.current;if(!g||!P||!f||!y||!L)return;const B=[],{watermarkSelector:_,paginationSelector:V,sideBarSelector:w,statusBarSelector:D,gridHeaderDropZonesSelector:A}=f.getOptionalSelectors(),W=[];if(A){const H=e.createBean(new A.component),G=H.getGui();L.insertAdjacentElement("afterbegin",G),W.push(G),B.push(H)}if(w){const H=e.createBean(new w.component),G=H.getGui(),K=y.querySelector(".ag-tab-guard-bottom");K&&(K.insertAdjacentElement("beforebegin",G),W.push(G)),B.push(H),R.current.push(H)}const N=H=>{const G=e.createBean(new H),K=G.getGui();return L.insertAdjacentElement("beforeend",K),W.push(K),B.push(G),G};if(D&&N(D.component),V){const H=N(V.component);M.current=H,R.current.push(H)}return _&&N(_.component),()=>{e.destroyBeans(B),W.forEach(H=>{var G;(G=H.parentElement)==null||G.removeChild(H)})}},[g,y,P]);const I=t.useMemo(()=>re("ag-root-wrapper",s,o),[s,o]),O=t.useMemo(()=>re("ag-root-wrapper-body","ag-focus-managed",o),[o]),T=t.useMemo(()=>({userSelect:c??"",WebkitUserSelect:c??"",cursor:l??""}),[c,l]),E=t.useCallback(f=>{b.current=f,C(f!==null)},[]),S=t.useCallback(()=>{var f;return!((f=h.current)!=null&&f.isFocusable())},[]);return a.createElement("div",{ref:x,className:I,style:T,role:"presentation"},a.createElement("div",{className:O,ref:m,role:"presentation"},d&&y&&P&&a.createElement(X.Provider,{value:P},a.createElement(Es,{ref:E,eFocusableElement:y,onTabKeyDown:F,gridCtrl:h.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:S},a.createElement(vs,null)))))},ks=t.memo(Ps),Ms=class extends ot{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(s=>s.areCellsRendered()))}},qe={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},Fs={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...qe},Ke=new Set(Object.keys(Fs)),xs=new Set(Object.keys(qe)),Qe=e=>{var y;const s=t.useRef(),r=t.useRef(null),o=t.useRef(null),n=t.useRef([]),l=t.useRef([]),u=t.useRef(e),c=t.useRef(),i=t.useRef(),d=t.useRef(!1),[p,g]=t.useState(void 0),[,C]=t.useState(0),h=t.useCallback(m=>{if(r.current=m,!m){n.current.forEach(E=>E()),n.current.length=0;return}const v=e.modules||[];o.current||(o.current=new qt(()=>C(E=>E+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),n.current.push(()=>{var E;(E=o.current)==null||E.destroy(),o.current=null}));const M=Ze(e.gridOptions,e,Object.keys(e).filter(E=>!Ke.has(E))),R=()=>{if(d.current){const E=()=>{var f;return(f=c.current)!=null&&f.shouldQueueUpdates()?void 0:l.current.shift()};let S=E();for(;S;)S(),S=E()}},F=new Is(R);c.current=F;const P=new Ms,x={providedBeanInstances:{frameworkCompWrapper:new Gs(o.current,M.reactiveCustomComponents??et("reactiveCustomComponents")??!0),renderStatus:P},modules:v,frameworkOverrides:F,setThemeOnGridDiv:!0},I=E=>{g(E),E.createBean(P),n.current.push(()=>{E.destroy()}),E.getBean("ctrlsSvc").whenReady({addDestroyFunc:S=>{n.current.push(S)}},()=>{var f;if(E.isDestroyed())return;const S=s.current;S&&((f=e.passGridApi)==null||f.call(e,S))})},O=E=>{E.getBean("ctrlsSvc").whenReady({addDestroyFunc:S=>{n.current.push(S)}},()=>{l.current.forEach(S=>S()),l.current.length=0,d.current=!0})},T=new tt;M.gridId??(M.gridId=i.current),s.current=T.create(m,M,I,O,x),n.current.push(()=>{s.current=void 0}),s.current&&(i.current=s.current.getGridId())},[]),k=t.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),b=t.useCallback(m=>{var v;d.current&&!((v=c.current)!=null&&v.shouldQueueUpdates())?m():l.current.push(m)},[]);return t.useEffect(()=>{const m=Bs(u.current,e);u.current=e,b(()=>{s.current&&st(m,s.current)})},[e]),a.createElement("div",{style:k,className:e.className,ref:h},p&&!p.isDestroyed()?a.createElement(ks,{context:p}):null,((y=o.current)==null?void 0:y.getPortals())??null)};function Bs(e,s){const r={};return Object.keys(s).forEach(o=>{if(Ke.has(o)){xs.has(o)&&Fe(274,{prop:o});return}const n=s[o];e[o]!==n&&(r[o]=n)}),r}var Gs=class extends nt{constructor(e,s){super(),this.parent=e,this.reactiveCustomComponents=s}createWrapper(e,s){if(this.reactiveCustomComponents){const n=(l=>{switch(l){case"filter":return Nt;case"floatingFilterComponent":return Ut;case"dateComponent":return Ot;case"dragAndDropImageComponent":return Dt;case"loadingOverlayComponent":return _t;case"noRowsOverlayComponent":return jt;case"statusPanel":return $t;case"toolPanel":return zt;case"menuItem":return Lt;case"cellRenderer":return Wt;case"innerHeaderComponent":return Vt}})(s.name);if(n)return new n(e,this.parent,s)}else switch(s.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Ge();break}const r=!s.cellRenderer&&s.name!=="toolPanel";return new ze(e,this.parent,s,r)}},As=t.forwardRef((e,s)=>{const r=t.useContext(X),{registry:o,context:n,gos:l,rowModel:u}=r,[c,i]=t.useState(()=>new ne),[d,p]=t.useState(()=>new ne),[g,C]=t.useState(),[h,k]=t.useState(),b=t.useRef(),y=t.useRef(null),m=t.useRef(),v=t.useMemo(()=>at(e.api.getGridId(),(g==null?void 0:g.rowModelType)??"clientSide"),[e]),M=t.useMemo(()=>c.toString()+" ag-details-row",[c]),R=t.useMemo(()=>d.toString()+" ag-details-grid",[d]);s&&t.useImperativeHandle(s,()=>({refresh(){var x;return((x=b.current)==null?void 0:x.refresh())??!1}})),e.template&&Fe(230);const F=t.useCallback(x=>{var T;if(y.current=x,!x){b.current=n.destroyBean(b.current),(T=m.current)==null||T.call(m);return}const I={toggleCss:(E,S)=>i(f=>f.setClass(E,S)),toggleDetailGridCss:(E,S)=>p(f=>f.setClass(E,S)),setDetailGrid:E=>C(E),setRowData:E=>k(E),getGui:()=>y.current},O=o.createDynamicBean("detailCellRendererCtrl",!0);if(O&&(n.createBean(O),O.init(I,e),b.current=O,l.get("detailRowAutoHeight"))){const E=()=>{if(y.current==null)return;const S=y.current.clientHeight;S!=null&&S>0&&setTimeout(()=>{e.node.setRowHeight(S),(it(l)||ut(l))&&u.onRowHeightChanged()},0)};m.current=_e(r,x,E),E()}},[]),P=t.useCallback(x=>{var I;(I=b.current)==null||I.registerDetailWithMaster(x)},[]);return a.createElement("div",{className:M,ref:F},g&&a.createElement(Qe,{className:R,...g,modules:v,rowData:h,passGridApi:P}))}),Is=class extends rt{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:We,agGroupRowRenderer:We,agDetailCellRenderer:As},this.wrapIncoming=(s,r)=>r==="ensureVisible"?Gt(s):s()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const s=e.prototype;return!(s&&"getGui"in s)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return Bt()}},Us=class extends t.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(s=>s(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return a.createElement(Qe,{...this.props,passGridApi:this.setGridApi})}};function Ts({elementForListeners:e,horizontalCenter:s,gridDiv:r=window,isHeader:o=!1}){const[n,l]=t.useState(!1),[u,c]=t.useState(!1),[i,d]=t.useState({top:0,left:0}),[p,g]=t.useState(!1),C=t.useRef(null),h=t.useRef(null),b=t.useCallback(()=>{if(r instanceof Element){const P=(r==null?void 0:r.querySelector(".ag-body-viewport"))||(r==null?void 0:r.querySelector(".ag-center-cols-viewport"));if(P)return P}return window},[r])(),y=t.useCallback(()=>{if(C.current instanceof HTMLElement&&h.current instanceof HTMLDivElement){const P=C.current.getBoundingClientRect(),x=h.current.getBoundingClientRect(),I=Ws(b);P.width>0&&P.height>0&&x.width>0&&x.height>0&&d({top:Ds(P,x,I,o),left:Os(P,x,I,s)})}},[s,o,b]),m=t.useCallback(P=>{P.stopPropagation(),l(!0)},[]),v=t.useCallback(()=>{l(!1),c(!1)},[]),M=t.useCallback(()=>{l(!1),c(!1)},[]),R=t.useCallback(()=>{l(!1),c(!1),g(!0)},[]),F=t.useCallback(()=>{p?(g(!1),l(!1),c(!1)):l(!0)},[p]);return t.useEffect(()=>{if(e)return e.addEventListener("touchstart",M,{passive:!0}),e.addEventListener("touchend",F),document.addEventListener("touchmove",R,{passive:!0}),()=>{e==null||e.removeEventListener("touchstart",M),e==null||e.removeEventListener("touchend",F),document.removeEventListener("touchmove",R)}},[e,F,R,M]),t.useEffect(()=>{y(),n&&i.left>0&&i.top>0?c(!0):c(!1)},[y,n,i.left,i.top]),{showTooltip:u,tooltipPosition:i,targetRef:C,tooltipRef:h,handleMouseEnter:m,handleMouseLeave:v}}function Ws(e){return e instanceof HTMLElement?e.getBoundingClientRect():new DOMRect(0,0,window.innerWidth,window.innerHeight)}function Os(e,s,r,o){let n=e.left;return o&&(n=e.left+e.width/2-s.width/2),n+s.width>r.right?r.right-s.width:n<r.left?r.left:n}function Ds(e,s,r,o){let n=e.bottom;if(o)return n+14.5;if(r&&!o){const l=n+s.height,u=r.bottom;if(l>u)return n=u-s.height,Math.max(n,r.top)}return n}function Ns(){const e=document.getElementById("portal-root");return e||(console.error("portalRoot not found"),null)}function Vs(e){var g;const{showTooltip:s,tooltipPosition:r,targetRef:o,tooltipRef:n,handleMouseEnter:l,handleMouseLeave:u}=Ts({elementForListeners:e.eGridHeader,horizontalCenter:!0,gridDiv:(g=e.eGridHeader)==null?void 0:g.closest(".ag-root-wrapper"),isHeader:!0}),c=t.useMemo(()=>{const C={overflow:"hidden"};return e.useEllipsis?{...C,textOverflow:"ellipsis",whiteSpace:"nowrap"}:C},[e.useEllipsis]),i=t.useMemo(()=>e.tooltip?e.tooltip:e.displayName,[e.displayName,e.tooltip]),d=Ns(),p=s&&i.length>0;return Pe.jsxs("button",{ref:o,className:"cell-not-button header-css",onMouseEnter:l,onMouseLeave:u,style:c,children:[Pe.jsx("span",{style:c,children:e.displayName}),d&&Ve.createPortal(Pe.jsx("div",{ref:n,className:"tooltip-css",style:{top:r.top,left:r.left,visibility:p?"visible":"hidden",opacity:p?1:0,pointerEvents:p?"auto":"none"},children:i}),d)]})}export{Vs as A,Us as a,Ns as g,Ts as u};
