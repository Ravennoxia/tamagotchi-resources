import{r as i,j as r,R as h}from"./index-DkaJZGnT.js";import{u as b,g as x,a as y,A as v}from"./AGGridHeader-CximXkho.js";function z(t){var u;const{showTooltip:a,tooltipPosition:n,targetRef:l,tooltipRef:c,handleMouseEnter:f,handleMouseLeave:m}=b({elementForListeners:t.eGridCell,horizontalCenter:!0,gridDiv:(u=t.eGridCell)==null?void 0:u.closest(".ag-root-wrapper")}),d=t.data.name+" ("+t.data.rarity+")",s=x(),e=a&&d.length>0;return r.jsxs("button",{ref:l,className:"cell-not-button",style:{display:"flex"},onMouseEnter:f,onMouseLeave:m,children:[t.value&&r.jsx("img",{className:"bitzee-image",src:"/tamagotchi-resources/bitzee-sprites/"+t.value,alt:t.data.name}),s&&h.createPortal(r.jsx("div",{ref:c,className:"tooltip-css",style:{top:n.top,left:n.left,whiteSpace:"nowrap",visibility:e?"visible":"hidden",opacity:e?1:0,pointerEvents:e?"auto":"none"},children:d}),s)]})}const R=i.memo(z);function C({themeMode:t}){const a=i.useRef(null),[n,l]=i.useState([]),[c]=i.useState([{field:"gem",headerName:"Gem"},{field:"baby",headerName:"Baby"},{field:"adult",headerName:"Adult"},{field:"superBitzee",headerName:"Super Bitzee"},{field:"green",headerName:"Green Potion"}]),f={cellRenderer:R,headerComponent:v,headerComponentParams:{useEllipsis:!0},autoHeight:!0,resizable:!1,sortable:!1,suppressMovable:!0,maxWidth:152},m={suppressRowHoverHighlight:!0,suppressCellFocus:!0},d=i.useCallback(s=>{var e;(e=a.current)!=null&&e.api&&s.api.sizeColumnsToFit()},[]);return i.useEffect(()=>{const s=()=>{var e;(e=a.current)!=null&&e.api&&a.current.api.sizeColumnsToFit()};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]),i.useEffect(()=>{async function s(){try{const e=await fetch("/tamagotchi-resources/bitzee-magicals.json");if(!e.ok)throw new Error(e.status.toString());const u=await e.json(),p=Object.entries(u).map(([g,o])=>({name:g,rarity:o.rarity,gem:o.gem,baby:o.baby,adult:o.adult,superBitzee:o.superBitzee,blue:o.blue,red:o.red,green:o.green}));l(p)}catch(e){console.error("Failed to fetch data",e),l([])}}s().catch()},[]),r.jsx("div",{className:"padding-css bitzee-div",children:r.jsxs("div",{"data-ag-theme-mode":t,className:"flex-column-1",style:{maxWidth:"777px"},children:[" ",r.jsx("div",{style:{flex:1},children:r.jsx(y,{ref:a,rowData:n,columnDefs:c,gridOptions:m,defaultColDef:f,onGridReady:d})}),r.jsx("cite",{style:{textAlign:"right"},children:"Sprites drawn based on manual. Potion colors (WIP) approximated from seeing them in real life."})]})})}export{C as default};
